http://trolltech.com/developer/task-tracker/index_html?id=239094&method=entry

--- a/src/corelib/io/qprocess_unix.cpp
+++ b/src/corelib/io/qprocess_unix.cpp
@@ -564,7 +564,7 @@ static char **_q_dupEnvironment(const QStringList &environment, int *envc)
 // under QNX RTOS we have to use vfork() when multithreading
 inline pid_t qt_fork()
 {
-#if defined(Q_OS_QNX)
+#if defined(Q_OS_QNX) || defined(QT_LINUX_NOMMU)
     return vfork();
 #else
     return fork();
--- a/src/gui/embedded/qscreenlinuxfb_qws.cpp
+++ b/src/gui/embedded/qscreenlinuxfb_qws.cpp
@@ -383,10 +383,15 @@ bool QLinuxFbScreen::connect(const QString &displaySpec)
 
     mapsize = finfo.smem_len;
 
+#if defined(QT_LINUX_NOMMU)
+# define MMAP_FLAGS MAP_PRIVATE
+#else
+# define MMAP_FLAGS MAP_SHARED
+#endif
     data = (unsigned char *)-1;
     if (d_ptr->fd != -1)
         data = (unsigned char *)mmap(0, mapsize, PROT_READ | PROT_WRITE,
-                                     MAP_SHARED, d_ptr->fd, 0);
+                                     MMAP_FLAGS, d_ptr->fd, 0);
 
     if ((long)data == -1) {
         if (QApplication::type() == QApplication::GuiServer) {
--- a/src/gui/painting/qpdf.cpp
+++ b/src/gui/painting/qpdf.cpp
@@ -1443,6 +1443,16 @@ static void closeAllOpenFds()
 }
 #endif
 
+// under QNX RTOS we have to use vfork() when multithreading
+inline pid_t qt_fork()
+{
+#if defined(Q_OS_QNX) || defined(QT_LINUX_NOMMU)
+    return vfork();
+#else
+    return fork();
+#endif
+}
+
 bool QPdfBaseEnginePrivate::openPrintDevice()
 {
     if(outDevice)
@@ -1476,12 +1486,12 @@ bool QPdfBaseEnginePrivate::openPrintDevice()
             return false;
         }
 
-        pid_t pid = fork();
+        pid_t pid = qt_fork();
         if (pid == 0) {       // child process
             // if possible, exit quickly, so the actual lp/lpr
             // becomes a child of init, and ::waitpid() is
             // guaranteed not to wait.
-            if (fork() > 0) {
+            if (qt_fork() > 0) {
                 closeAllOpenFds();
 
                 // try to replace this process with "true" - this prevents

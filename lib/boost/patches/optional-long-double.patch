https://svn.boost.org/trac/boost/ticket/2597

Index: trunk/libs/math/build/Jamfile.v2
===================================================================
--- trunk/libs/math/build/Jamfile.v2	(revision 50377)
+++ trunk/libs/math/build/Jamfile.v2	(revision 50378)
@@ -51,7 +51,12 @@ sph_legendre
 sph_neumann
 ;
 
-compile has_long_double_support.cpp ;
+if --disable-long-double in [ modules.peek : ARGV ] 
+{ 
+   long-double-opts = <build>no ; 
+} 
+ 	
+compile has_long_double_support.cpp : $(long-double-opts) ;
 
 lib boost_math_tr1 : ../src/tr1/$(TR1_SOURCES).cpp
     :         
@@ -67,6 +72,7 @@ lib boost_math_tr1l : ../src/tr1/$(TR1_S
     :         
  	     <link>shared:<define>BOOST_MATH_TR1_DYN_LINK=1
  	     <dependency>has_long_double_support
+ 	     $(long-double-opts)
    ;
 
 lib boost_math_c99 : ../src/tr1/$(C99_SOURCES).cpp
@@ -83,8 +89,11 @@ lib boost_math_c99l : ../src/tr1/$(C99_S
     :         
  	     <link>shared:<define>BOOST_MATH_TR1_DYN_LINK=1
  	     <dependency>has_long_double_support
+ 	     $(long-double-opts)
    ;
 
 
 boost-install boost_math_c99 boost_math_c99f boost_math_c99l boost_math_tr1 boost_math_tr1f boost_math_tr1l ;
 
+
+

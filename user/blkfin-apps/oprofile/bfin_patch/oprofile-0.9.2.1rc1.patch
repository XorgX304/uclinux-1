Index: oprofile-0.9.2.1rc1/libutil++/child_reader.cpp
===================================================================
--- oprofile-0.9.2.1rc1/libutil++/child_reader.cpp	（版本 7392）
+++ oprofile-0.9.2.1rc1/libutil++/child_reader.cpp	（工作副本）
@@ -60,7 +60,7 @@
 		return;
 	}
 
-	pid = fork();
+	pid = vfork();
 	switch (pid) {
 		case -1:
 			first_error = errno;
Index: oprofile-0.9.2.1rc1/daemon/opd_perfmon.c
===================================================================
--- oprofile-0.9.2.1rc1/daemon/opd_perfmon.c	（版本 7392）
+++ oprofile-0.9.2.1rc1/daemon/opd_perfmon.c	（工作副本）
@@ -407,7 +407,7 @@
 			exit(EXIT_FAILURE);
 		}
 
-		ret = fork();
+		ret = vfork();
 		if (ret == -1) {
 			fprintf(stderr, "Couldn't fork perfmon child.\n");
 			exit(EXIT_FAILURE);
Index: oprofile-0.9.2.1rc1/daemon/oprofiled.c
===================================================================
--- oprofile-0.9.2.1rc1/daemon/oprofiled.c	（版本 7392）
+++ oprofile-0.9.2.1rc1/daemon/oprofiled.c	（工作副本）
@@ -118,7 +118,7 @@
  */
 static void opd_fork(void)
 {
-	switch (fork()) {
+	switch (vfork()) {
 		case -1:
 			perror("oprofiled: fork() failed: ");
 			exit(EXIT_FAILURE);
